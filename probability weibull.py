import numpy as np
ft1=np.array([1166, 1072, 609, 470, 37, 143, 370, 435, 338, 168, 811, 582, 412, 391, 368, 221, 466, 378, 919, 324, 239, 877, 597, 66, 350, 520, 26, 484, 476, 491, 639, 448, 286, 292, 371, 727, 611, 736, 908, 457, 1, 373, 800, 165, 794, 336, 486, 638, 115, 89, 124, 532, 490, 537, 557, 1446, 263, 610, 98, 535, 656, 439, 369, 270, 490, 900, 820, 570, 727, 579, 121, 92, 924, 119, 261, 1700, 86, 604, 487, 301, 858, 1082, 43, 351, 521, 1144, 513, 410, 347, 285, 226, 1613, 674, 418, 38, 1818, 18, 208, 495, 105, 391, 597, 448, 298, 154, 257, 1256, 490, 900, 820, 570, 727, 579, 121, 92, 924, 119, 261, 1273, 1166, 1072, 609, 470, 37, 143, 370, 435, 338, 168, 811, 582, 412, 391, 368, 221, 466, 378, 919, 324, 239, 877, 597, 66, 350, 520, 26, 484, 476, 491, 639, 448, 537, 557, 1446, 263, 610, 98, 535, 656, 439, 369, 270, 800, 165, 794, 336, 486, 638, 115, 89, 124, 532, 490, 286, 292, 371, 727, 611, 736, 908, 457, 1, 373, 443, 311, 193, 342, 234, 534, 1103, 8, 1796, 689, 521, 634, 44, 321, 454, 693, 422, 351, 709, 773, 514, 574, 196, 465, 338, 367, 1189, 320, 360, 1345, 649, 16, 488, 546, 515, 763, 105, 833, 567, 788, 29, 279, 672, 34, 401, 86, 840, 502, 593, 468, 249, 77, 356, 18, 208, 495, 105, 391, 597, 448, 298, 154, 257, 1256, 117, 414, 869, 460, 2583, 856, 1, 83, 108, 470, 316, 1700, 86, 604, 487, 301, 858, 1082, 43, 351, 521, 1144, 513, 410, 347, 285, 226, 1613, 674, 418, 38, 1818, 633, 483, 790, 1017, 60, 189, 265, 540, 527, 64, 586, 89, 516, 84, 541, 889, 1103, 498, 162, 1271, 220, 354, 833, 290, 740, 2, 451, 304, 236, 1553, 898, 1104, 565, 358, 297, 823, 154, 669, 1107, 805, 596, 471, 634, 1047, 448, 586, 469, 530, 554, 443, 2037, 10, 743, 76, 177, 440, 116, 496, 861, 25, 634, 227, 444, 407, 80, 559, 366, 183, 596, 844, 342, 140, 1136, 7, 300, 356, 159, 133, 1557, 972, 366, 433, 461, 290, 702, 342, 552, 1541, 497, 395, 1210, 870, 222, 79, 702, 17, 244, 115, 570, 1111, 581, 624, 320, 1000, 484, 136, 516, 558, 826, 1156, 531, 455, 11, 722, 373, 747])
# –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
ft1=np.sort(ft1)[::-1]
#print(ft1)
indexft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,374,
 375,
 376,
 377,
 378,
 379,
 380,
 381,
 382,
 383,
 384,
 385,
 386,
 387,
 388,
 389,
 390,
 391,
 392,
 393,
 394]
ft=np.delete(ft1,indexft)
#print(ft)
#print(ft)
#for index, value in enumerate(ft):
   #print(f" {index+1},")
n=np.array([  1,
 2,
 3,
 4,
 5,
 6,
 7,
 8,
 9,
 10,
 11,
 12,
 13,
 14,
 15,
 16,
 17,
 18,
 19,
 20,
 21,
 22,
 23,
 24,
 25,
 26,
 27,
 28,
 29,
 30,
 31,
 32,
 33,
 34,
 35,
 36,
 37,
 38,
 39,
 40,
 41,
 42,
 43,
 44,
 45,
 46,
 47,
 48,
 49,
 50,
 51,
 52,
 53,
 54,
 55,
 56,
 57,
 58,
 59,
 60,
 61,
 62,
 63,
 64,
 65,
 66,
 67,
 68,
 69,
 70,
 71,
 72,
 73,
 74,
 75,
 76,
 77,
 78,
 79,
 80,
 81,
 82,
 83,
 84,
 85,
 86,
 87,
 88,
 89,
 90,
 91,
 92,
 93,
 94,
 95,
 96,
 97,
 98,
 99,
 100,
 101,
 102,
 103,
 104,
 105,
 106,
 107,
 108,
 109,
 110,
 111,
 112,
 113,
 114,
 115,
 116,
 117,
 118,
 119,
 120,
 121,
 122,
 123,
 124,
 125,
 126,
 127,
 128,
 129,
 130,
 131,
 132,
 133,
 134,
 135,
 136,
 137,
 138,
 139,
 140,
 141,
 142,
 143,
 144,
 145,
 146,
 147,
 148,
 149,
 150,
 151,
 152,
 153,
 154,
 155,
 156,
 157,
 158,
 159,
 160,
 161,
 162,
 163,
 164,
 165,
 166,
 167,
 168,
 169,
 170,
 171,
 172,
 173,
 174,
 175,
 176,
 177,
 178,
 179,
 180,
 181,
 182,
 183,
 184,
 185,
 186,
 187,
 188,
 189,
 190,
 191,
 192,
 193,
 194,
 195,
 196,
 197,
 198,
 199,
 200,
 201,
 202,
 203,
 204,
 205,
 206,
 207,
 208,
 209,
 210,
 211,
 212,
 213,
 214,
 215,
 216,
 217,
 218,
 219,
 220,
 221,
 222,
 223,
 224,
 225,
 226,
 227,
 228,
 229,
 230,
 231,
 232,
 233,
 234,
 235,
 236,
 237,
 238,
 239,
 240,
 241,
 242,
 243,
 244,
 245,
 246,
 247,
 248,
 249,
 250,
 251,
 252,
 253,
 254,
 255,
 256,
 257,
 258,
 259,
 260,
 261,
 262,
 263,
 264,
 265,
 266,
 267,
 268,
 269,
 270,
 271,
 272,
 273,
 274,
 275,
 276,
 277,
 278,
 279,
 280,
 281,
 282,
 283,
 284,
 285,
 286,
 287,
 288,
 289,
 290,
 291,
 292,
 293,
 294,
 295,
 296,
 297,
 298,
 299,
 300,
 301,
 302,
 303,
 304,
 305,
 306,
 307,
 308,
 309,
 310,
 311,
 312,
 313,
 314,
 315,
 316,
 317,
 318,
 319,
 320,
 321,
 322,
 323,
 324,
 325,
 326,
 327,
 328,
 329,
 330,
 331,
 332,
 333,
 334,
 335,
 336,
 337,
 338,
 339,
 340,
 341,
 342,
 343,
 344,
 345,
 346,
 347,
 348,
 349,
 350,
 351,
 352,
 353])
nmax=np.max(n)
#print(nmax)
fl=(n-0.3)/(374+0.4)
#print("median bank location, failure location %", fl)
import matplotlib.pyplot as plt
plt.title('–ë–∞–Ω–∫ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –º–µ–¥–∏–∞–Ω ')
plt.xlabel('–ù–∞—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –æ—Ç–∫–∞–∑, –¥–Ω–µ–π')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–∞–∑–∞')
#plt.scatter(ft, fl)
plt.plot(ft, fl)
plt.grid()
plt.show()
tmax=np.max(ft)
print("–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞",tmax)
import math
a=np.log(tmax/ft)
#print(a)
s=np.sum(a)
#print("—Å—É–º–º–∞ —Ñ–∏–≥–Ω–∏ —Å–Ω–∏–∑—É –±–µ—Ç–∞",s)
beta=nmax/s
print("–ó–Ω–∞—á–µ–Ω–∏–µ ùõΩ=", beta)
ftb=ft**beta
ftbsum=np.sum(ftb)
#print("c—É–º–º–∞ —Å–≤–µ—Ä—Ö—É –Ω—é",ftbsum)
nu=(ftbsum/nmax)**(1/beta)
print("–ó–Ω–∞—á–µ–Ω–∏–µ ùúÇ=",nu)
#calculate third weibull parametr
ft1=43
ft2=130
ft3=1166  
gamma=ft2-(((ft3-ft2)*(ft2-ft1))/((ft3-ft2)-(ft2-ft1)))
print("–ó–Ω–∞—á–µ–Ω–∏–µ ùõæ=", gamma)
F=1-np.exp(-(((ft-gamma)/(nu))**beta))
F=np.sort(F)
totalF=np.sum(F)/373
print("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–∞–∑–∞ —Å—Ä–µ–¥–Ω—è—è, F(t)=",totalF)
R=np.exp(-(((ft-gamma)/(nu))**beta))
totalR=np.sum(R)/373
print("–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–Ω—è—è, Rcp(t)=" ,totalR)
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –í–µ–π–±—É–ª–ª–∞, F(t)')
plt.xlabel('–ù–∞—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –æ—Ç–∫–∞–∑, –¥–Ω–µ–π, t')
plt.ylabel('–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–∞–∑–∞, F(t)')
#plt.scatter(ft, F)
plt.plot(ft, F)
plt.grid()
plt.show()
f=beta*(nu)**(-beta)*ft**(beta-1)*np.exp(-(((ft-gamma)/(nu))**beta))
print("f(t)", f)
t=F/f 
print("–Ω–∞—Ä–∞–±–æ—Ç–∫–∞–Ω –∞ –æ—Ç–∫–∞–∑", t)
#hazard rate- —É—Ä–æ–≤–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
h=f/R
totalh=np.sum(h)
print("–£—Ä–æ–≤–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏, h(t)=",totalh)
#–ø–æ—Å—á–∏—Ç–∞–µ–º mtbf –¥–ª—è 373 —Å–∫–≤
MTBF=nu*gamma*(1+1/beta)
print("MTBF=", MTBF)
"–î–æ–±–∞–≤–∏–º –º–µ—Ç–æ–¥ –í–µ–π–±—É–ª–ª–∞-–ë–∞–π–µ—Å–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—Ç–∏–º —É–∑–Ω–∞—Ç—å –≤—ã–±—ã—Ç–∏–µ –£–≠–¶–ù, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–∏ "
r= - (np.log(1-(1-R)) )
#print("Confidance: ",r)
x=np.array([50,100,200,300,400,600])
#print(x)
Chl=(sum((x**beta)/6,9))**(1/beta)
print("Characteristic life=", Chl)
F1=1-np.exp(-(((ft-gamma)/(Chl-gamma))**beta))
F1=np.sort(F1)
print(F1)
plt.title('–ì—Ä–∞—Ñ–∏–∫ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞–∑–æ–≤ h(t)')
plt.xlabel('t')
plt.ylabel('h(t)')
#plt.scatter(ft, F)
plt.plot(ft, h)
plt.grid()
plt.show()


